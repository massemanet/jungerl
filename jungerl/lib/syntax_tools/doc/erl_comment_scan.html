<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module erl_comment_scan</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>
<body bgcolor="white">
<h1>Module erl_comment_scan</h1>
<ul><li>
<a href="#index">Function index</a></li><li>
<a href="#exported">Exported functions</a></li></ul>

<h2>Description</h2>
Functions for reading comment lines from Erlang source code.

<h2><a name="index">Function Index</a></h2>

<table width="100%" border="1"><tr><th colspan="2" align="left">Exported Functions</th></tr>
<tr><td><a href="#file-1">file/1</a></td><td>Extracts comments from an Erlang source code file.</td></tr>
<tr><td><a href="#join_lines-1">join_lines/1</a></td><td>Joins individual comment lines into multi-line comments.</td></tr>
<tr><td><a href="#scan_lines-1">scan_lines/1</a></td><td>Extracts individual comment lines from a source code string.</td></tr>
<tr><td><a href="#string-1">string/1</a></td><td>Extracts comments from a string containing Erlang source code.</td></tr>
</table>

<h2><a name="exported">Exported Functions</a></h2>

<h3><a name="file-1">file/1</a></h3>

<p><code>file(FileName::<a href="file.html#type-filename">file:filename()</a>) -> [Comment]<ul><li>Comment = {Line, Column, Indentation, Text}</li><li>Line = integer()</li><li>Column = integer()</li><li>Indentation = integer()</li><li>Text = [string()]</li></ul></code></p>
<p>Extracts comments from an Erlang source code file. Returns a
  list of entries representing <em>multi-line</em> comments, listed in
  order of increasing line-numbers. For each entry, <code>Text</code>
  is a list of strings representing the consecutive comment lines in
  top-down order; the strings contain <em>all</em> characters following
  (but not including) the first comment-introducing "<code>%</code>"
  character on the line, up to (but not including) the line-terminating
  newline.
 
  <p>Furthermore, <code>Line</code> is the line number and
  <code>Column</code> the left column of the comment (i.e., the column
  of the comment-introducing <code>%</code> character).
  <code>Indent</code> is the indentation (or padding), measured in
  character positions between the last non-whitespace character before
  the comment (or the left margin), and the left column of the comment.
  <code>Line</code> and <code>Column</code> are always positive
  integers, and <code>Indentation</code> is a nonnegative integer.</p>
 
  <p>Evaluation exits with reason <code>{read, Reason}</code> if a read
  error occurred, where <code>Reason</code> is an atom corresponding to
  a Posix error code; see the module <code>file</code> for details.</p>
 </p>
<p>See also: <a href="file.html"><code>file</code></a>.</p>

<h3><a name="join_lines-1">join_lines/1</a></h3>

<p><code>join_lines([CommentLine]) -> [Comment]<ul><li>CommentLine = {Line, Column, Indent, string()}</li><li>Line = integer()</li><li>Column = integer()</li><li>Indent = integer()</li><li>Comment = {Line, Column, Indent, Text}</li><li>Text = [string()]</li></ul></code></p>
<p>Joins individual comment lines into multi-line comments. The
  input is a list of entries representing individual comment lines,
  <em>in order of decreasing line-numbers</em>; see
  <code>scan_lines/1</code> for details. The result is a list of
  entries representing <em>multi-line</em> comments, <em>still listed
  in order of decreasing line-numbers</em>, but where for each entry,
  <code>Text</code> is a list of consecutive comment lines in order of
  <em>increasing</em> line-numbers (i.e., top-down).
 </p>
<p>See also: <a href="#scan_lines-1"><code>scan_lines/1</code></a>.</p>

<h3><a name="scan_lines-1">scan_lines/1</a></h3>

<p><code>scan_lines(string()) -> [CommentLine]<ul><li>CommentLine = {Line, Column, Indent, Text}</li><li>Line = integer()</li><li>Column = integer()</li><li>Indent = integer()</li><li>Text = string()</li></ul></code></p>
<p>Extracts individual comment lines from a source code string.
  Returns a list of comment lines found in the text, listed in order of
  <em>decreasing</em> line-numbers, i.e., the last comment line in the
  input is first in the resulting list. <code>Text</code> is a single
  string, containing all characters following (but not including) the
  first comment-introducing "<code>%</code>" character on the line, up
  to (but not including) the line-terminating newline. For details on
  <code>Line</code>, <code>Column</code> and <code>Indent</code>, see
  <code>file/1</code>.
 </p>
<p>See also: <a href="#file-1"><code>file/1</code></a>.</p>

<h3><a name="string-1">string/1</a></h3>

<p><code>string(Arg1) -> term()</code></p>
<p>Extracts comments from a string containing Erlang source code.
  Except for reading directly from a string, the behaviour is the same
  as for <code>file/1</code>.
 </p>
<p>See also: <a href="#file-1"><code>file/1</code></a>.</p></body>
</html>